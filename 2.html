<!DOCTYPE html>
<html>
<head>
    <title>Colorful Cursor Trail</title>
    <link rel="stylesheet" href="1.css" />
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="audio-controls">
        <button id="toggleMusic" class="retro-button">üîä Sound On</button>
        <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="0.5">
        <button id="pauseBtn" class="retro-button">‚è∏Ô∏è Pause</button>
    </div>

    <!-- settings toggle moved into HUD -->

        <!-- Settings panel: sensitivity/alignment/cooldown -->
        <div id="settingsPanel" class="settings-panel">
            <h4>Interaction Settings</h4>
            <div class="slider-row">
                <label for="sensitivity">Sensitivity</label>
                <input id="sensitivity" type="range" min="0" max="12" step="0.1" title="Minimum cursor movement (pixels) required to consider touching a jellyfish">
                <span id="sensitivityVal"></span>
            </div>
            <div class="slider-row">
                <label for="alignment">Alignment</label>
                <input id="alignment" type="range" min="-1" max="1" step="0.01" title="How directly your movement must be aimed at a jelly (1 = directly toward, -1 = away)">
                <span id="alignmentVal"></span>
            </div>
            <div class="slider-row">
                <label for="cooldown">Global cooldown (ms)</label>
                <input id="cooldown" type="range" min="0" max="1200" step="10" title="Minimum time between chimes (milliseconds)">
                <span id="cooldownVal"></span>
            </div>
            <div style="display:flex; gap:8px; align-items:center; margin-top:6px;">
                <button id="resetSettings" class="retro-button small">Reset to defaults</button>
                <button id="undoReset" class="retro-button small" style="display:none;">Undo</button>
                <small class="muted">Settings are saved locally. Increase Sensitivity or Cooldown to reduce accidental chimes.</small>
            </div>
            <div style="margin-top:6px; font-size:12px; color:#cfd8ff;">Tip: raise Sensitivity or Cooldown to avoid accidental chimes. Alignment controls how directly you must move toward a jelly.</div>
            <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
                <button id="debugToggle" class="retro-button small">Toggle Debug Overlay</button>
                <label style="display:flex; align-items:center; gap:6px; margin-left:6px;">
                    <input id="safeMode" type="checkbox" />
                    <span style="font-size:12px; color:#cfd8ff;">Safe mode</span>
                </label>
                <button id="showLogs" class="retro-button small">Show Logs</button>
                <button id="exportLogs" class="retro-button small">Export Logs</button>
                <small style="color:#bfcfff; font-size:12px;">Show detection radii and movement vector to diagnose false hits.</small>
            </div>
            <div style="margin-top:12px; border-top:1px dashed rgba(255,255,255,0.04); padding-top:10px;">
                <label for="skipLevelSelect" style="font-size:13px; color:#dfe8ff; display:block; margin-bottom:6px;">Skip to level</label>
                <div style="display:flex; gap:8px; align-items:center;">
                    <select id="skipLevelSelect" style="background:rgba(10,14,20,0.7); color:#dfefff; padding:6px; border-radius:6px; border:1px solid rgba(255,255,255,0.04);">
                        <option value="">-- select level --</option>
                        <option value="1">Level 1 ‚Äî Jellyfish</option>
                        <option value="2">Level 2 ‚Äî Stingrays</option>
                        <option value="3">Level 3 ‚Äî Anglers</option>
                        <option value="4">Level 4 ‚Äî Mantas</option>
                        <option value="5">Level 5 ‚Äî Sharks</option>
                        <option value="6">Level 6 ‚Äî Eels</option>
                        <option value="7">Level 7 ‚Äî Starfish</option>
                        <option value="8">Level 8 ‚Äî Lionfish</option>
                        <option value="9">Level 9 ‚Äî Seaweed</option>
                        <option value="10">Level 10 ‚Äî Clams</option>
                    </select>
                    <button id="skipLevelBtn" class="retro-button small">Go</button>
                </div>
                <small style="display:block; margin-top:8px; color:#bfcfff; font-size:12px;">Quick jump to a level for testing (useful for levels 9 &amp; 10).</small>
            </div>
        </div>
    <audio id="bgMusic" loop>
        <source src="music.mp3" type="audio/mp3">
    </audio>
    <!-- Jellyfish hit sound (user-provided file) -->
    <audio id="jellySfx" preload="auto">
        <source src="chime-74910.mp3" type="audio/mp3">
    </audio>
    <!-- Whale win chime (optional file - drop in assets/whale-chime.mp3) -->
    <audio id="whaleSfx" preload="auto">
        <source src="assets/whale-chime.mp3" type="audio/mp3">
    </audio>
    <!-- brief hint shown once to explain interaction -->
    <div id="hint" class="hint">Move your cursor into a jellyfish to hear a chime</div>
    <script src="3.js"></script>
</body>
</html>
